# åˆ¶ä½œç‰©ï¼šCodeBridgeï¼ˆã‚³ãƒ¼ãƒ‰ãƒ–ãƒªãƒƒã‚¸ï¼‰

## ğŸ¯ ç›®çš„ãƒ»èƒŒæ™¯

ãƒãƒƒã‚«ã‚½ãƒ³ã«å‡ºå ´ã—ãŸéš›ã€ç§ã¯ã€Œãƒãƒ¼ãƒ ãƒ¡ãƒ³ãƒãƒ¼ã®ã‚¹ã‚­ãƒ«ã‚’æŠŠæ¡ã™ã‚‹ã¾ã§ã«æ™‚é–“ãŒã‹ã‹ã‚‹ã€ã¨ã„ã†èª²é¡Œã‚’æ„Ÿã˜ã¾ã—ãŸã€‚  
ã¾ãŸã€ChatGPTãªã©ç”ŸæˆAIã®é€²åŒ–ã«ã‚ˆã‚Šã€GitHubã®ãƒªãƒã‚¸ãƒˆãƒªã‚’èª­ã¿è§£ããªãŒã‚‰å®Ÿè£…ã‚„å­¦ç¿’ã‚’è¡Œã†ã‚¹ã‚¿ã‚¤ãƒ«ãŒã€ä»¥å‰ã‚ˆã‚Šã‚‚å–ã‚Šã‚„ã™ããªã£ã¦ããŸã¨ã‚‚å®Ÿæ„Ÿã—ã¾ã—ãŸã€‚

ãã“ã§ç§ã¯ã€ã€Œãƒªãƒã‚¸ãƒˆãƒªã‚’å…±æœ‰ã—ã€è³ªå•ã‚„è­°è«–ãŒã§ãã‚‹Webã‚¢ãƒ—ãƒªã€ã‚’é–‹ç™ºã—ã¾ã—ãŸã€‚  
ã“ã®ã‚¢ãƒ—ãƒªã§ã¯ã€ãƒãƒ¼ãƒ é–‹ç™ºã«ãŠã‘ã‚‹ã‚¹ã‚­ãƒ«å…±æœ‰ã®å††æ»‘åŒ–ã¨ã€å­¦ç¿’è€…åŒå£«ãŒæŠ€è¡“çŸ¥è­˜ã‚’å…±æœ‰ã—åˆãˆã‚‹ç’°å¢ƒã®å®Ÿç¾ã‚’ç›®æŒ‡ã—ã¦åˆ¶ä½œã—ã¾ã—ãŸã€‚

ã‚¢ãƒ—ãƒªã®åå‰ã¯ **ã€ŒCodeBridgeï¼ˆã‚³ãƒ¼ãƒ‰ãƒ–ãƒªãƒƒã‚¸ï¼‰ã€** ã§ã™ã€‚  
ãã®ç”±æ¥ã¯ã€â€œãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ï¼ˆã‚³ãƒ¼ãƒ‰ï¼‰ã‚’é€šã˜ã¦ã€äººã¨äººã¨ã‚’ã¤ãªãæ¶ã‘æ©‹ã«ãªã‚ŠãŸã„â€ ã¨ã„ã†æƒ³ã„ã‹ã‚‰åä»˜ã‘ã¾ã—ãŸã€‚

## ğŸ›  ä½¿ç”¨ã—ãŸæŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

- **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰**ï¼šReact  
- **ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰**ï¼šDjango REST Frameworkã€Express.js  
- **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹**ï¼šSQLiteï¼ˆDjangoå´ï¼‰ã€MongoDBï¼ˆExpress/Socketå´ï¼‰  
- **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ é€šä¿¡**ï¼šSocket.ioï¼ˆExpressï¼‰  
- **èªè¨¼æ–¹å¼**ï¼šJWTï¼ˆJSON Web Tokenï¼‰  
- **AIãƒ¢ãƒ‡ãƒ«**ï¼šPyTorchï¼ˆBERTã«ã‚ˆã‚‹æ–‡ç« åˆ†é¡ï¼‰


## ğŸ“¦ ã“ã®ãƒªãƒã‚¸ãƒˆãƒªï¼ˆExpressã‚µãƒ¼ãƒãƒ¼å´ï¼‰ã§å®Ÿè£…ã•ã‚Œã¦ã„ã‚‹ä¸»ãªæ©Ÿèƒ½

### ğŸ¯ ç›®çš„

Reactå´ã®ã€Œãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ²ç¤ºæ¿ã€ã«å¯¾ã—ã¦ï¼š

- **Socket.io** ã§ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é…ä¿¡  
- **MongoDB** ã§ã€Œèª°ãŒã©ã®ãƒ«ãƒ¼ãƒ ã§ä½•ä»¶ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’æ—¢èª­ã‹ã€ã‚’è¨˜éŒ²ãƒ»ç®¡ç†

---

### ğŸš€ æ©Ÿèƒ½ä¸€è¦§

| æ©Ÿèƒ½å                    | èª¬æ˜                                                                 |
|---------------------------|----------------------------------------------------------------------|
| ğŸ”Œ `send_message` ã‚¤ãƒ™ãƒ³ãƒˆ | SocketçµŒç”±ã§å—ä¿¡ã—ãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å…¨ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«é…ä¿¡ã€‚readCountï¼ˆæ—¢èª­æ•°ï¼‰ã‚‚æ›´æ–° |
| ğŸ“¥ `/create-read-status`   | åˆå›ã‚¢ã‚¯ã‚»ã‚¹æ™‚ã«ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¨roomIdã®æ—¢èª­ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ä½œæˆ                        |
| ğŸ“Š `/read_count_filter`    | æŒ‡å®šãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ»è¤‡æ•°ãƒªãƒã‚¸ãƒˆãƒªï¼ˆroomIdï¼‰ã«å¯¾ã™ã‚‹ readCount ã‚’è¿”ã™API             |
| ğŸ—‘ `/delete_count`         | ç‰¹å®šã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ»ãƒªãƒã‚¸ãƒˆãƒªã«å¯¾ã™ã‚‹ readCount ã‚’ 0 ã«ãƒªã‚»ãƒƒãƒˆ                   |

---

## ğŸ“š ä½¿ç”¨æŠ€è¡“ãƒ»ãƒ©ã‚¤ãƒ–ãƒ©ãƒª

| ãƒ©ã‚¤ãƒ–ãƒ©ãƒªå   | ç”¨é€”                                        |
|----------------|---------------------------------------------|
| `express`      | HTTPã‚µãƒ¼ãƒãƒ¼ã®æ§‹ç¯‰                          |
| `socket.io`    | WebSocketã‚’ä½¿ã£ãŸãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ é€šä¿¡           |
| `mongoose`     | MongoDBã¨æ¥ç¶šã—ã€æ—¢èª­æƒ…å ±ã‚’ã‚¹ã‚­ãƒ¼ãƒç®¡ç†     |
| `cors`         | ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼ˆReactï¼‰ã‹ã‚‰ã®ã‚¢ã‚¯ã‚»ã‚¹è¨±å¯  |



## ğŸ—ƒ ä½¿ç”¨ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ï¼šMongoDBï¼ˆAtlasï¼‰

MongoDB Atlas ã®ã‚¯ãƒ©ã‚¹ã‚¿ã«æ¥ç¶šã—ã€ä¸‹è¨˜ã®ã‚ˆã†ãªã‚¹ã‚­ãƒ¼ãƒã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ï¼š

```js
{
  roomId: String,     // å„ãƒªãƒã‚¸ãƒˆãƒªã®IDï¼ˆroomå˜ä½ï¼‰
  username: String,   // åˆ©ç”¨è€…ã®åå‰
  readCount: Number   // æ—¢èª­ä»¶æ•°ï¼ˆæ–°è¦æŠ•ç¨¿ãŒæ¥ã‚‹ãŸã³+1ï¼‰
}
```



## âš™ï¸ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ–¹æ³•ï¼ˆNode.js / Express ã‚µãƒ¼ãƒãƒ¼ï¼‰

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ã€Socket.io + MongoDB ã‚’ä½¿ã£ãŸãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ é€šçŸ¥APIã‚’æä¾›ã™ã‚‹ Express ã‚µãƒ¼ãƒãƒ¼ã§ã™ã€‚ä»¥ä¸‹ã®æ‰‹é †ã§ãƒ­ãƒ¼ã‚«ãƒ«ã§å‹•ä½œç¢ºèªãŒå¯èƒ½ã§ã™ã€‚ã€€

ãƒ»å‹•ä½œç¢ºèªç’°å¢ƒã€€

node.js â†’ v22.14.0ã€€
npmã€€â†’ã€€v10.9.2

### 1. ãƒªãƒã‚¸ãƒˆãƒªã‚’ã‚¯ãƒ­ãƒ¼ãƒ³

```bash
git clone https://github.com/NK-kimiya/repository_share_app_socket.git
cd repository_share_app_socket
```

### 2. MongoDB æ¥ç¶šURLã®è¨­å®š

â€»ã¾ã MongoDBã‚’æŒã£ã¦ã„ãªã„å ´åˆã¯ã€MongoDB Atlasã«ç„¡æ–™ç™»éŒ²ã—ã¦ã‚¯ãƒ©ã‚¹ã‚¿ã‚’ä½œæˆã™ã‚‹ã“ã¨ã§æ¥ç¶šURIã‚’å–å¾—ã§ãã¾ã™ã€‚
https://www.mongodb.com/ja-jp/docs/atlas/getting-started/

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ã€MongoDB Atlas ã«æ¥ç¶šã™ã‚‹ãŸã‚ã«ã€ä»¥ä¸‹ã®ã‚ˆã†ã«æ¥ç¶šURLã‚’æŒ‡å®šã—ã¾ã™ã€‚

`server.js` ã®ä»¥ä¸‹ã®éƒ¨åˆ†ã® `"MONGO_URL"` ã‚’ã€**è‡ªåˆ†ã®MongoDBæ¥ç¶šURIã«ç½®ãæ›ãˆã¦ãã ã•ã„**ï¼š

```js
mongoose.connect('MONGO_URL', {
  useNewUrlParser: true,
  useUnifiedTopology: true
}).then(() => {
  console.log('MongoDB connected');
});
```


### 3. ä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install

### 4. ã‚µãƒ¼ãƒãƒ¼ã®èµ·å‹•
npm start



